<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiles</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="body2" >
    
    <div class="center">
        <button class="button2" onclick="zoomIn()">+</button>
        <button class="button2" onclick="zoomOut()">-</button>
    </div>

    <br><br><br>
    
<script>

    var space = document.createElement("div");
    space.className="mystyle";
    document.body.appendChild(space);
        
    var link = "https://challenge-tiler.services.propelleraero.com/tiles/";
    var token = "?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoic2hhaW1hLXpvdWJpIiwiaWF0IjoxNjM4NzU5NjE4fQ.0jxv_k-3prygVKfVFqxL1SU9VWIpq1mL3gIg1DLO70k";
    var level = -1;
    
    /*function wholeImg(){
        var imgUrl=link+0+'/'+0+'/'+0+token;
    
    }*/

    function zoomIn(){
       

        if (level < 3){
            var images = document.getElementsByTagName('img');
            var l = images.length;
            for (var i = 0; i < l; i++) {
                space.removeChild(images[0]);}
            level = level + 1;
            var chunck = Math.pow(4, level);
            var len = Math.pow(2, level);

            for (var x=0; x<len; x++){/*
                var childSpace = document.createElement("div");
                space.className="childSpace";
                space.appendChild(childSpace);*/
                for (var y=0; y<len; y++){
                    var chunckUrl = link+level+'/'+y+'/'+x+token;
                    display(chunckUrl);
                    //childSpace.appendChild(img);
                }
                var childSpace = document.createElement("br");
                childSpace.className="childSpace";
                space.appendChild(childSpace);
            }
            
        }
        
    }   

    function zoomOut(){
        var images = document.getElementsByTagName('img');
        var l = images.length;
        for (var i = 0; i < l; i++) {
            space.removeChild(images[0]);}

        
        if (level > 0 && level <=3){
           level = level - 1;
            var chunck = Math.pow(4, level);
            var len = Math.pow(2, level);
            for (var x=0; x<len; x++){
               /* var childSpace = document.createElement("div");
                childSpace.className="childSpace";
                space.appendChild(childSpace);*/
                for (var y=0; y<len; y++){
                    var chunckUrl = link+level+'/'+y+'/'+x+token;
                    display(chunckUrl);
                    }
                var childSpace = document.createElement("br");
                childSpace.className="childSpace";
                space.appendChild(childSpace);
            }
        }
        else{
            level = -1;
            wholeImg();}

    }
    
    function display(imgSrc){
        
        var img = document.createElement("img");
        img.src = imgSrc;
        /*img.width = 300;
        img.height = 300;*/
        img.alt = "image chunck";
        img.style="transform 0.5s ease";
        
        // This next line will just add it to the <body> tag
        space.appendChild(img);

        
    }

</script>
</body>
</html>
